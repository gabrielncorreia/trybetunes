{"version":3,"sources":["services/userAPI.js","components/Loading.jsx","components/Header.jsx","pages/Login.jsx","services/searchAlbumsAPI.js","pages/Search.jsx","services/musicsAPI.js","services/favoriteSongsAPI.js","components/MusicCard.jsx","pages/Album.jsx","pages/Favorites.jsx","pages/Profile.jsx","pages/ProfileEdit.jsx","pages/NotFound.jsx","components/Content.jsx","App.js","index.js"],"names":["USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","Loading","Component","Header","props","fetchUserName","a","then","userName","setState","logado","welcome","state","this","className","to","Login","onChangeHandler","event","target","value","loginValidation","length","isButtonDisabled","enterButton","loading","isUserAuthenticated","action","htmlFor","type","onChange","id","disabled","onClick","searchAlbumsAPI","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","Search","searchChangeHandler","searchInput","onButtonClick","fetchAlbums","albums","notFound","renderAlbums","src","alt","srcSet","placeholder","getMusics","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","addSong","song","MusicCard","favoriteCheckboxHandler","checked","trackName","previewUrl","trackId","isChecked","controls","kind","defaultProps","Album","fetchSongs","match","params","songsFetched","songs","slice","artistsName","albumName","collectionCensoredName","fetchFavoriteSong","filteredIds","shouldBeChecked","includes","Favorites","Profile","ProfileEdit","NotFound","Content","exact","path","component","App","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3b981782.chunk.js","sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\n\nexport default class Loading extends Component {\n  render() {\n    return (\n      <div>\n        <h5>Carregando...</h5>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Loading from './Loading';\n\nexport default class Header extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userName: '',\n      logado: false,\n    };\n  }\n\n  componentDidMount() {\n    // console.log('componentDidMount');\n    this.fetchUserName();\n  }\n\n  componentDidUpdate() {\n    this.fetchUserName();\n  }\n\n  componentWillUnmount() {\n    this.fetchUserName();\n  }\n\n  fetchUserName = async () => {\n    const userName = await getUser().then((response) => response.name);\n\n    this.setState({\n      userName,\n      logado: true,\n    });\n  }\n\n  welcome = (userName) => (\n    <h3 data-testid=\"header-user-name\">\n      Bem vindo\n      {` ${userName}`}\n    </h3>\n  )\n\n  render() {\n    const { userName, logado } = this.state;\n    return (\n      <header data-testid=\"header-component\">\n        <h1>TrybeTunes</h1>\n        <div className=\"links-div\">\n          <Link to=\"/\"><h4>Login</h4></Link>\n          <Link to=\"/search\" data-testid=\"link-to-search\"><h4>Search</h4></Link>\n          <Link to=\"/album/:id\"><h4>Album</h4></Link>\n          <Link to=\"/favorites\" data-testid=\"link-to-favorites\"><h4>Favorites</h4></Link>\n          <Link to=\"/profile\" data-testid=\"link-to-profile\"><h4>Profile</h4></Link>\n          <Link to=\"/profile/edit\"><h4>ProfileEdit</h4></Link>\n\n          {logado ? this.welcome(userName) : <Loading />}\n        </div>\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport { createUser } from '../services/userAPI';\nimport Loading from '../components/Loading';\n\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: '',\n      isButtonDisabled: true,\n      loading: false,\n      isUserAuthenticated: false,\n    };\n  }\n\n  onChangeHandler = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    }, () => this.loginValidation());\n  }\n\n  loginValidation = () => {\n    const { name } = this.state;\n    const minValue = 3;\n\n    if (name.length >= minValue) {\n      this.setState({\n        isButtonDisabled: false,\n      });\n    } else {\n      this.setState({\n        isButtonDisabled: true,\n      });\n    }\n  }\n\n  enterButton = async () => {\n    const { name } = this.state;\n\n    this.setState({\n      loading: true,\n    }, async () => {\n      await createUser({ name });\n\n      this.setState({\n        loading: false,\n        isUserAuthenticated: true,\n      });\n    });\n  }\n\n  render() {\n    const { isButtonDisabled, loading, isUserAuthenticated } = this.state;\n    return (\n      <div data-testid=\"page-login\" className=\"page-div\">\n        {/* <h3>Esse é o container do Login</h3> */}\n\n        <form action=\"\">\n          <fieldset>\n            <legend>Login</legend>\n            <label htmlFor=\"login-submit-button\">\n              Name:\n              <input\n                type=\"text\"\n                name=\"name\"\n                onChange={ this.onChangeHandler }\n                data-testid=\"login-name-input\"\n                id=\"login-submit-button\"\n              />\n            </label>\n\n            <div>\n              <button\n                type=\"button\"\n                data-testid=\"login-submit-button\"\n                disabled={ isButtonDisabled }\n                onClick={ this.enterButton }\n              >\n                Entrar\n              </button>\n            </div>\n\n            <div>\n              { loading ? <Loading /> : <p/> }\n            </div>\n\n            { isUserAuthenticated ? <Redirect to=\"/search\" /> : <p /> }\n          </fieldset>\n        </form>\n      </div>\n    );\n  }\n}\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Loading from '../components/Loading';\n\nexport default class Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchInput: '',\n      artist: '',\n      isButtonDisabled: true,\n      albums: [],\n      notFound: false,\n      loading: false,\n    };\n  }\n\n  searchChangeHandler = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    }, () => {\n      const { searchInput } = this.state;\n      const minValue = 2;\n\n      if (searchInput.length >= minValue) {\n        this.setState({ isButtonDisabled: false });\n      } else {\n        this.setState({ isButtonDisabled: true });\n      }\n    });\n  }\n\n  onButtonClick = async () => {\n    const { searchInput } = this.state;\n\n    this.setState({\n      artist: searchInput,\n      searchInput: '',\n      loading: true,\n    });\n\n    const fetchAlbums = await searchAlbumsAPI(searchInput);\n\n    if (fetchAlbums.length > 0) {\n      this.setState({\n        albums: fetchAlbums,\n        loading: false,\n        notFound: false,\n      });\n    } else {\n      this.setState({\n        albums: '',\n        loading: false,\n        notFound: true,\n      });\n    }\n  }\n\n  renderAlbums = () => {\n    const { artist, albums } = this.state;\n\n    return (\n      <div className=\"results-div\">\n        <h4>\n          {`Resultado de álbuns de: ${artist}`}\n        </h4>\n\n        <div className=\"albums-div\">\n          {albums.map(({ artistName,\n            artworkUrl100,\n            collectionName,\n            releaseDate,\n            collectionPrice,\n            collectionId,\n          }) => (\n            <Link\n              data-testid={ `link-to-album-${collectionId}` }\n              to={ `/album/${collectionId}` }\n              key={ collectionId }\n            >\n              <div className=\"album-div\">\n                <h3>{ artistName }</h3>\n                <div>\n                  <img src={ artworkUrl100 } alt=\"\" srcSet=\"\" />\n                </div>\n                <h4>{ collectionName }</h4>\n                <h6>{ releaseDate }</h6>\n                <h5>{ collectionPrice }</h5>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    const { searchInput, isButtonDisabled, albums, loading, notFound } = this.state;\n    // console.log(albums)\n    return (\n      <div data-testid=\"page-search\" className=\"page-div\">\n        {/* <h1>Esse é o container do Search</h1> */}\n\n        <form action=\"\" className=\"search-div\">\n          {loading ? <Loading /> : (\n            <div>\n              <h4>Search a song!</h4>\n              <input\n                type=\"text\"\n                name=\"searchInput\"\n                id=\"\"\n                value={ searchInput }\n                onChange={ this.searchChangeHandler }\n                placeholder=\"Nome do artista\"\n                data-testid=\"search-artist-input\"\n              />\n              <button\n                type=\"button\"\n                data-testid=\"search-artist-button\"\n                disabled={ isButtonDisabled }\n                onClick={ this.onButtonClick }\n              >\n                Pesquisar\n              </button>\n            </div>\n          )}\n        </form>\n        <div>\n          { (notFound) && <h4>Nenhum álbum foi encontrado</h4> }\n          { (albums.length > 0) && this.renderAlbums() }\n        </div>\n      </div>\n    );\n  }\n}\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong } from '../services/favoriteSongsAPI';\nimport Loading from './Loading';\n\nexport default class MusicCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      checked: true,\n    };\n  }\n\n  favoriteCheckboxHandler = (event) => {\n    const { checked } = this.state;\n    // const value = event.target.checked;\n    event.target.checked = checked;\n\n    this.setState({ checked: !checked });\n\n    // console.log(value);\n\n    this.setState({ loading: true }, async () => {\n      const addingSongToFav = await addSong({ ...this.props });\n      if (addingSongToFav === 'OK') return this.setState({ loading: false });\n    });\n  };\n\n  render() {\n    const { trackName, previewUrl, trackId, isChecked } = this.props;\n    const { loading } = this.state;\n    return (\n      <div className=\"music-card\">\n        <h4>{ trackName }</h4>\n        <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n          <track kind=\"captions\" />\n          O seu navegador não suporta o elemento\n          <code>audio</code>\n          .\n        </audio>\n        <label htmlFor={ `checkbox-music-${trackId}` }>\n          Favorita\n          <input\n            type=\"checkbox\"\n            name={ `checkbox-music-${trackId}` }\n            checked={ isChecked }\n            onClick={ this.favoriteCheckboxHandler }\n            id={ `checkbox-music-${trackId}` }\n            data-testid={ `checkbox-music-${trackId}` }\n          />\n        </label>\n        {loading ? <Loading /> : null}\n      </div>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  previewUrl: PropTypes.string,\n  trackName: PropTypes.string,\n  trackId: PropTypes.string,\n  isChecked: PropTypes.bool.isRequired,\n};\n\nMusicCard.defaultProps = {\n  previewUrl: '',\n  trackName: '',\n  trackId: '',\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../components/MusicCard';\nimport Loading from '../components/Loading';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\n\nexport default class Album extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      songs: [],\n      loading: true,\n      artistsName: '',\n      albumName: '',\n      favoriteSongs: [],\n    };\n  }\n\n  componentDidMount() {\n    this.fetchSongs();\n    this.fetchFavoriteSong();\n  }\n\n  fetchSongs = async () => {\n    const { match: { params: { id } } } = this.props;\n    const songsFetched = await getMusics(id);\n\n    this.setState({\n      songs: songsFetched.slice(1),\n      loading: false,\n      artistsName: songsFetched[0].artistName,\n      albumName: songsFetched[0].collectionCensoredName,\n    });\n  }\n\n  fetchFavoriteSong = async () => {\n    const favoriteSongs = await getFavoriteSongs();\n    const filteredIds = favoriteSongs.map((song) => song.trackId);\n\n    this.setState({\n      favoriteSongs: filteredIds,\n    });\n  }\n\n  shouldBeChecked = (id) => {\n    const { favoriteSongs } = this.state;\n\n    if (favoriteSongs.includes(id) === false) {\n      return null;\n    }\n\n    return true;\n  }\n\n  render() {\n    const { songs, loading, artistsName, albumName } = this.state;\n    // console.log(songs);\n    return (\n      <div data-testid=\"page-album\" className=\"page-div\">\n        {/* <h1>Esse é o container do Album</h1> */}\n\n        <h2 data-testid=\"artist-name\">{artistsName}</h2>\n        <h3 data-testid=\"album-name\">{`Collection Name: ${albumName}`}</h3>\n\n        {loading ? <Loading /> : songs.map(({\n          trackName,\n          previewUrl,\n          trackId,\n        }) => (\n          <div key={ trackId }>\n            <MusicCard\n              trackName={ trackName }\n              previewUrl={ previewUrl }\n              trackId={ trackId }\n              isChecked={ this.shouldBeChecked(trackId) }\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({ id: PropTypes.string.isRequired }),\n  }).isRequired,\n};\n","import React, { Component } from 'react';\n\nexport default class Favorites extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-favorites\" className=\"page-div\">\n        {/* <h1>Esse é o container do Favorites</h1> */}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class Profile extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile\" className=\"page-div\">\n        {/* <h1>Esse é o container do Profile</h1> */}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class ProfileEdit extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\" className=\"page-div\">\n        {/* <h1>Esse é o container do ProfileEdit</h1> */}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class NotFound extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-not-found\" className=\"page-div\">\n        {/* <h1>Esse é o container do NotFound</h1> */}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Login from '../pages/Login';\nimport Search from '../pages/Search';\nimport Album from '../pages/Album';\nimport Favorites from '../pages/Favorites';\nimport Profile from '../pages/Profile';\nimport ProfileEdit from '../pages/ProfileEdit';\nimport NotFound from '../pages/NotFound';\n\nexport default class Content extends Component {\n  render() {\n    return (\n      <main className=\"content-div\">\n        {/* <h2>Aqui é o container do Content</h2> */}\n        <Switch>\n          <Route exact path=\"/\" component={ Login } />\n          <Route exact path=\"/search\" component={ Search } />\n          <Route exact path=\"/album/:id\" component={ Album } />\n          <Route exact path=\"/favorites\" component={ Favorites } />\n          <Route exact path=\"/profile\" component={ Profile } />\n          <Route exact path=\"/profile/edit\" component={ ProfileEdit } />\n          <Route exact path=\"*\" component={ NotFound } />\n        </Switch>\n      </main>\n    );\n  }\n}\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport Header from './components/Header';\nimport Content from './components/Content';\nimport './index.css';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <div>\n          <Header />\n          <Content />\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}